# ============================================================================
# Railway Configuration - Didin Fácil / TikTrend
# ============================================================================
# Configuração para deploy no Railway usando Nixpacks
# ============================================================================

[build]
builder = "NIXPACKS"
watchPatterns = ["backend/**"]

[deploy]
numReplicas = 1
startCommand = "cd backend && alembic upgrade head && gunicorn api.main:app --workers 2 --worker-class uvicorn.workers.UvicornWorker --bind 0.0.0.0:$PORT --access-logfile - --error-logfile -"
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5

# Variáveis são configuradas no dashboard do Railway
