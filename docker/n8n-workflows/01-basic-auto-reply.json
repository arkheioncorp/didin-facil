{
  "name": "01 - Resposta Autom√°tica B√°sica",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "chatwoot",
        "options": {}
      },
      "id": "webhook-trigger",
      "name": "Webhook Chatwoot",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [250, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition-message-type",
              "leftValue": "={{ $json.event }}",
              "rightValue": "message_created",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "condition-incoming",
              "leftValue": "={{ $json.message_type }}",
              "rightValue": "incoming",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "filter-incoming",
      "name": "Filtrar Mensagens Recebidas",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [470, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "condition-greeting",
              "leftValue": "={{ $json.content.toLowerCase() }}",
              "rightValue": "oi|ol√°|ola|bom dia|boa tarde|boa noite|hello|hi|hey",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "id": "check-greeting",
      "name": "√â Sauda√ß√£o?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [690, 200]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://tiktrend-chatwoot:3000/api/v1/accounts/3/conversations/{{ $json.conversation.id }}/messages",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "api_access_token",
              "value": "2nQ98Rj5MtwnMurVVfaoYN4t"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"üëã Ol√°! Bem-vindo ao Didin F√°cil!\\n\\nSou o assistente virtual e estou aqui para ajudar.\\n\\nDigite uma op√ß√£o:\\n\\n1Ô∏è‚É£ Comparar pre√ßos\\n2Ô∏è‚É£ Ver ofertas\\n3Ô∏è‚É£ Falar com atendente\\n4Ô∏è‚É£ Hor√°rio de funcionamento\",\n  \"message_type\": \"outgoing\",\n  \"private\": false\n}",
        "options": {}
      },
      "id": "send-greeting",
      "name": "Enviar Sauda√ß√£o",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [910, 100]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "condition-menu-1",
              "leftValue": "={{ $json.content.trim() }}",
              "rightValue": "1",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "id": "check-option-1",
      "name": "Op√ß√£o 1?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [910, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://tiktrend-chatwoot:3000/api/v1/accounts/3/conversations/{{ $json.conversation.id }}/messages",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "api_access_token",
              "value": "2nQ98Rj5MtwnMurVVfaoYN4t"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"üîç *Compara√ß√£o de Pre√ßos*\\n\\nPara comparar pre√ßos, me envie o nome do produto que voc√™ est√° procurando!\\n\\nExemplo: \\\"iPhone 15\\\" ou \\\"Geladeira Brastemp\\\"\",\n  \"message_type\": \"outgoing\",\n  \"private\": false\n}",
        "options": {}
      },
      "id": "send-compare-info",
      "name": "Info Compara√ß√£o",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1130, 200]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "condition-menu-2",
              "leftValue": "={{ $json.content.trim() }}",
              "rightValue": "2",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "id": "check-option-2",
      "name": "Op√ß√£o 2?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1130, 400]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://tiktrend-chatwoot:3000/api/v1/accounts/3/conversations/{{ $json.conversation.id }}/messages",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "api_access_token",
              "value": "2nQ98Rj5MtwnMurVVfaoYN4t"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"üè∑Ô∏è *Ofertas do Dia*\\n\\nüî• iPhone 15 - R$ 4.299 (economia de R$ 700!)\\nüî• Smart TV 55\\\" - R$ 2.199\\nüî• Fone Bluetooth - R$ 89,90\\n\\nAcesse: didin.com.br/ofertas\",\n  \"message_type\": \"outgoing\",\n  \"private\": false\n}",
        "options": {}
      },
      "id": "send-offers",
      "name": "Enviar Ofertas",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1350, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "condition-menu-3",
              "leftValue": "={{ $json.content.trim() }}",
              "rightValue": "3",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "id": "check-option-3",
      "name": "Op√ß√£o 3?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1350, 500]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://tiktrend-chatwoot:3000/api/v1/accounts/3/conversations/{{ $json.conversation.id }}/messages",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "api_access_token",
              "value": "2nQ98Rj5MtwnMurVVfaoYN4t"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"üë§ *Atendimento Humano*\\n\\nUm de nossos atendentes ir√° falar com voc√™ em breve!\\n\\n‚è±Ô∏è Tempo m√©dio de espera: 2 minutos\",\n  \"message_type\": \"outgoing\",\n  \"private\": false\n}",
        "options": {}
      },
      "id": "send-human-transfer",
      "name": "Transferir Humano",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1570, 400]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "condition-menu-4",
              "leftValue": "={{ $json.content.trim() }}",
              "rightValue": "4",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "id": "check-option-4",
      "name": "Op√ß√£o 4?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1570, 600]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://tiktrend-chatwoot:3000/api/v1/accounts/3/conversations/{{ $json.conversation.id }}/messages",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "api_access_token",
              "value": "2nQ98Rj5MtwnMurVVfaoYN4t"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"üïê *Hor√°rio de Funcionamento*\\n\\nüìÖ Segunda a Sexta: 8h √†s 18h\\nüìÖ S√°bado: 8h √†s 12h\\nüìÖ Domingo: Fechado\\n\\nüìç Atendimento online 24h pelo app!\",\n  \"message_type\": \"outgoing\",\n  \"private\": false\n}",
        "options": {}
      },
      "id": "send-hours",
      "name": "Enviar Hor√°rio",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1790, 500]
    }
  ],
  "connections": {
    "Webhook Chatwoot": {
      "main": [
        [
          {
            "node": "Filtrar Mensagens Recebidas",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filtrar Mensagens Recebidas": {
      "main": [
        [
          {
            "node": "√â Sauda√ß√£o?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "√â Sauda√ß√£o?": {
      "main": [
        [
          {
            "node": "Enviar Sauda√ß√£o",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Op√ß√£o 1?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Op√ß√£o 1?": {
      "main": [
        [
          {
            "node": "Info Compara√ß√£o",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Op√ß√£o 2?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Op√ß√£o 2?": {
      "main": [
        [
          {
            "node": "Enviar Ofertas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Op√ß√£o 3?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Op√ß√£o 3?": {
      "main": [
        [
          {
            "node": "Transferir Humano",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Op√ß√£o 4?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Op√ß√£o 4?": {
      "main": [
        [
          {
            "node": "Enviar Hor√°rio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "name": "WhatsApp",
      "createdAt": "2025-11-30T00:00:00.000Z",
      "updatedAt": "2025-11-30T00:00:00.000Z"
    },
    {
      "name": "B√°sico",
      "createdAt": "2025-11-30T00:00:00.000Z",
      "updatedAt": "2025-11-30T00:00:00.000Z"
    }
  ]
}
